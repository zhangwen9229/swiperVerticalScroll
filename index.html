<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Swiper demo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">

    <!-- Link Swiper's CSS -->
    <link rel="stylesheet" href="./swiper.min.css">

    <!-- Demo styles -->
    <style>
        html,
        body {
            position: relative;
            height: 100%;
        }
        
        body {
            background: #eee;
            font-family: Helvetica Neue, Helvetica, Arial, sans-serif;
            font-size: 14px;
            color: #000;
            margin: 0;
            padding: 0;
        }
        
        .swiper-container {
            width: 100%;
            height: 100%;
        }
        
        .swiper-slide {
            text-align: center;
            font-size: 18px;
            background: #fff;
            /* Center slide text vertically */
            display: -webkit-box;
            display: -ms-flexbox;
            display: -webkit-flex;
            display: flex;
            -webkit-box-pack: center;
            -ms-flex-pack: center;
            -webkit-justify-content: center;
            justify-content: center;
            -webkit-box-align: center;
            -ms-flex-align: center;
            -webkit-align-items: center;
            align-items: center;
        }
        .swiper-slide {
    overflow-x: hidden;
    overflow-y: auto;
}
    </style>
</head>

<body>
    <!-- Swiper -->
    <div class="swiper-container">
        <div class="swiper-wrapper">
            <div class="swiper-slide">
                <div class=" conTest" style="height:auto;width:100%">
                    <table class="tb">
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                    </table>

                    <div class="btt " style="height:100px;background:red;width:100%;">
                        dddddd
                    </div>
                </div>
            </div>
            <div class="swiper-slide">
                <div class="  second " style="width:100%">
                    <table class="tb">
                        <tr>
                            <td>gsdgsdgsdgsdgsd</td>
                        </tr>
                        <tr>
                            <td>sgsdgsdgsdgsdgdsg</td>
                        </tr>
                        <tr>
                            <td>sgsdgsdgsdgsdgdsg</td>
                        </tr>
                        <tr>
                            <td>sgsdgsdgsdgsdgdsg</td>
                        </tr>
                        <tr>
                            <td>sgsdgsdgsdgsdgdsg</td>
                        </tr>
                        <tr>
                            <td>sgsdgsdgsdgsdgdsg</td>
                        </tr>
                        <tr>
                            <td>sgsdgsdgsdgsdgdsg</td>
                        </tr>
                        <tr>
                            <td>sgsdgsdgsdgsdgdsg</td>
                        </tr>
                        <tr>
                            <td>sgsdgsdgsdgsdgdsg</td>
                        </tr>
                        <tr>
                            <td>sgsdgsdgsdgsdgdsg</td>
                        </tr>
                        <tr>
                            <td>sgsdgsdgsdgsdgdsg</td>
                        </tr>
                        <tr>
                            <td>sgsdgsdgsdgsdgdsg</td>
                        </tr>
                        <tr>
                            <td>sgsdgsdgsdgsdgdsg</td>
                        </tr>
                        <tr>
                            <td>sgsdgsdgsdgsdgdsg</td>
                        </tr>
                        <tr>
                            <td>sgsdgsdgsdgsdgdsg</td>
                        </tr>
                        <tr>
                            <td>sgsdgsdgsdgsdgdsg</td>
                        </tr>
                        <tr>
                            <td>sgsdgsdgsdgsdgdsg</td>
                        </tr>
                        <tr>
                            <td>sgsdgsdgsdgsdgdsg</td>
                        </tr>
                        <tr>
                            <td>sgsdgsdgsdgsdgdsg</td>
                        </tr>
                        <tr>
                            <td>sgsdgsdgsdgsdgdsg</td>
                        </tr>
                        <tr>
                            <td>sgsdgsdgsdgsdgdsg</td>
                        </tr>
                        <tr>
                            <td>sgsdgsdgsdgsdgdsg</td>
                        </tr>
                        <tr>
                            <td>sgsdgsdgsdgsdgdsg</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                        <tr>
                            <td>wwwwwwwwwwwwwwwwwwwwwwwwwwwwww</td>
                        </tr>
                    </table>

                    <div class="btt " style="height:100px;background:red;width:100%;">
                        dddddd
                    </div>
                </div>
            </div>
            <div class="swiper-slide">Slide 3</div>
            <div class="swiper-slide">Slide 4</div>
            <div class="swiper-slide">Slide 5</div>
            <div class="swiper-slide">Slide 6</div>
            <div class="swiper-slide">Slide 7</div>
            <div class="swiper-slide">Slide 8</div>
            <div class="swiper-slide">Slide 9</div>
            <div class="swiper-slide">Slide 10</div>
        </div>
        <!-- Add Pagination -->
        <div class="swiper-pagination"></div>
    </div>

    <!-- Swiper JS -->
    <script src="./swiper.min.js"></script>
    <script src="./jquery.js"></script>
    <!--<script src="./touch-0.2.14.min.js"></script>-->
    <!-- Initialize Swiper -->
    <script>
        var startX =0,startY=0;
    var swiper = new Swiper('.swiper-container', {
        pagination: '.swiper-pagination',
        paginationClickable: true,
        direction: 'vertical',
        // onlyExternal : true,
        noSwiping : true,
        // onTouchStart: function(swiper,even){
        //     // alert('事件触发了;');
        //      var touch = even.touches[0]; //获取第一个触点
        //      startX = Number(touch.pageX); //页面触点X坐标
        //      startY = Number(touch.pageY); //页面触点Y坐标
        // },
        // onTouchMove: function(swiper,even){
        //     //你的事件
        //     //  var touch = even.touches[0]; //获取第一个触点
        //     // var x = Number(touch.pageX); //页面触点X坐标
        //     // var y = Number(touch.pageY); //页面触点Y坐标
        //     // if($(".conTest").scrollTop() < $(".tb").height()+$(".btt").height() - $(".conTest").height()){
        //     //     swiper.lockSwipes();
        //     //     swiper.detachEvents();
        //     // }
        //     // if(y - startY>100){
        //     //     swiper.slidePrev();
        //     //     // swiper.lockSwipes();
        //     // }
        //     // else if($(".conTest").scrollTop() == $(".tb").height()+$(".btt").height() - $(".conTest").height()){
             
        //     //     if(y - startY < -100){
        //     //         swiper.slideNext();
        //     //         // swiper.lockSwipes();
        //     //     }
        //     // } 

        //     // var $slide = $(this),
        //     //     scrollTop = $slide.scrollTop(); 
        //     // if (scrollTop > 0 && (scrollTop + $slide.height()) < $slide[0].scrollHeight) {
        //     //     even.stopPropagation();
        //     // }
        // },
        // onTouchEnd: function(swiper,event){
        //     // swiper.unlockSwipes();
        // },
        // onTouchMoveOpposite: function(swiper, event){
     
        // },
        // // swipeHandler : '.swipe-handler',
        // onSlideChangeEnd: function(swiper){
        //    if(swiper.activeIndex == 1){
        //         //  swiper.lockSwipeToNext();
        //     //   $(".conTest").addClass("swiper-no-swiping")  ;
        //     //    $(".conTest").scrollTop($(".conTest").height()-100);
        //    }            
        // }

    });

var startScroll, touchStart, touchCurrent;
swiper.slides.on('touchstart', function (e) {
    startScroll = this.scrollTop;
    touchStart = e.targetTouches[0].pageY;
}, true);
swiper.slides.on('touchmove', function (e) {
    touchCurrent = e.targetTouches[0].pageY;
    var touchesDiff = touchCurrent - touchStart;
    var slide = this;
    var onlyScrolling = 
            ( slide.scrollHeight > slide.offsetHeight ) && //当silde有滚动条时 allow only when slide is scrollable
            (
                ( touchesDiff < 0 && startScroll === 0 ) || //从上边缘往下滑 且 scrolltop = 0 start from top edge to scroll bottom
                ( touchesDiff > 0 && startScroll === ( slide.scrollHeight - slide.offsetHeight ) ) || //从下边缘滚动到底了，向上滑动（即向下拖动）  start from bottom edge to scroll top
                ( startScroll > 0 && startScroll < ( slide.scrollHeight - slide.offsetHeight ) ) //start from the middle
            );

    if (onlyScrolling) {//停止冒泡
        e.stopPropagation();
    }
}, true);

    // $(".conTest").scroll(function(){
    //     console.log($(this).scrollTop());
    //     console.log($(".tb").height()+$(".btt").height());
    //     console.log($(this).height())
    //     console.log($(".tb").height()+$(".btt").height()-$(this).height())
    //     console.log("========================================")

    // if($(this).scrollTop() == $(".tb").height()+$(".btt").height() - $(this).height()){
    //     // $(this).removeClass("swiper-no-swiping")
    //     //    swiper.attachEvents();swiper.unlockSwipes();
    // }

    // touch.on(".second","drag",function(ev){
    //     var de =ev.direction;
    //     var di =ev.distance;
    //     // var y = 
    // })
    
// });

    </script>
</body>

</html>